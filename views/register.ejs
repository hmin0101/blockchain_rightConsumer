<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Register</title>
    <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>

    <!--  Bootstrap 4.3.1  -->
    <link rel="stylesheet" href="/stylesheets/bootstrap-4.3.1.min.css">
    <!--  Font Awesome -->
    <link rel="stylesheet" href="/stylesheets/font-awesome/css/font-awesome.css">
    <!--  Awesome Bootstrap Checkbox  -->
    <link rel="stylesheet" href="/stylesheets/awesome-bootstrap-checkbox.css">
    <!--  Custom CSS  -->
    <link rel='stylesheet' href='/stylesheets/style.css' />

    <style>
      .register-logo {
        font-size: 69px;
        font-weight: 300;
        letter-spacing: -5px;
      }

      .form-agreement {
        max-height: 200px;
        padding: 12px 20px;
        background-color: #f2f9fa;
        border: 1px solid #e7eaec;
        border-radius: 5px;
        font-size: 13px;
        overflow-y: auto;
      }
      .form-agreement::-webkit-scrollbar {
        width: 6px;
      }
      .form-agreement::-webkit-scrollbar-track {
        background: #f1f3f1;
      }
      .form-agreement::-webkit-scrollbar-thumb {
        background: #34558B;
        border-radius: 3px;
      }
    </style>
  </head>
  <body>
    <section>
      <div class="container">
        <div class="row align-items-center justify-content-center min-vh-100">
          <div class="col-lg-5 py-5">
            <div class="text-center">
              <h3 class="register-logo mb-2 main-color-6-f">Register</h3>
              <p class="mb-5 main-color-3-f">Sign in to your account to continue.</p>
            </div>
            <div class="form-group">
              <label class="input-label" for="input-id">User ID</label>
              <input class="input-basic" id="input-id" placeholder="name@example.com" />
            </div>
            <div class="form-group">
              <label class="input-label" for="input-pw">Password</label>
              <input class="input-basic" type="password" id="input-pw" placeholder="Input Password" />
            </div>
            <div class="form-group">
              <label class="input-label" for="input-pw-c">Confirm Password</label>
              <input class="input-basic" type="password" id="input-pw-c" placeholder="Input Password" />
            </div>
            <div class="form-group">
              <button class="btn btn-block btn-basic" id="btn-sign">Agree Sign</button>
              <button class="btn btn-block btn-basic" id="btn-register">Register</button>
            </div>
            <div class="text-center">
              <a class="btn-link" id="btn-signin" href="/login">sign in</a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!--  JQuery  -->
    <script src="/javascripts/jquery-1.12.4.min.js"></script>
    <!--  Bootstrap 4.3.1 JS  -->
    <script src="/javascripts/bootstrap-4.3.1.min.js"></script>
    <script>
      $(document).ready(function() {
        // Register button click event
        $('#btn-register').on('click', function() {
          const data = {
            id: $('#input-id').val(),
            pw: $('#input-pw').val(),
            agreement: {
              "1": $('#check-agreement-1').val(),
              "2": $('#check-agreement-2').val(),
              "3": $('#check-agreement-3').val()
            }
          }

          // Confirm
          if (!blankCheck(data.id)) {
            alert("아이디를 입력해주세요.");
          } else if (!blankCheck(data.pw)) {
            alert("비밀번호를 입력해주세요.");
          } else if (!blankCheck($('#input-pw-c').val())) {
            alert("비밀번호 확인을 입력해주세요.");
          } else if (data.pw !== $('#input-pw-c').val()) {
            alert("비밀번호가 일치하지 않습니다.");
          } else {
            alert("회원가입 완료");
            location.href = "/login";
          }
        });
      });

      function blankCheck(value) {
        if (value === '' || value === null || value === undefined) return false;
        const blankPattern = /^\s+|\s+$/g;
        return value.replace(blankPattern, "") !== "";
      }
    </script>
  </body>
</html>
